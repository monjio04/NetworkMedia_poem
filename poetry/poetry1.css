/* 폰트 선언 */
@font-face {
    font-family: 'RIDIBatang';
    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_twelve@1.0/RIDIBatang.woff') format('woff');
    font-weight: normal; font-style: normal;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body { display: flex; justify-content: center; align-items: center; height: 100vh; background-color: #333; overflow: hidden; }

.frame-container { width: 1440px; height: 1024px; position: relative; overflow: hidden; box-shadow: 0 0 50px rgba(0,0,0,0.5); }
.wood-background { width: 100%; height: 100%; position: absolute; top: 0; left: 0; z-index: 0; background: url('image/bg-wood.png') no-repeat center center; background-size: cover; }
.menu-wrapper { position: absolute; bottom: -1200px; left: 140px; width: 1159px; height: 1024px; perspective: 2500px; transform-style: preserve-3d; z-index: 10; }
.paper { height: 1024px; position: absolute; top: 0; box-shadow: none; transform-style: preserve-3d; outline: 1px solid transparent; }

/* 오른쪽 종이 (A) */
.paper-a {
    width: 702px; right: 0; z-index: 1;
    background: url('image/paper-a.png') no-repeat center center; background-size: cover; background-color: #F1E8DC;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
}

/* 왼쪽 종이 (B) */
.paper-b {
    width: 458px; left: 0; transform-origin: right center; transform: rotateY(180deg); z-index: 10;
    transition: transform 2.5s cubic-bezier(0.25, 1, 0.5, 1);
    background: url('image/paper-b.png') no-repeat center center; background-size: cover; background-color: #D9C7AE;
}

.face { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; backface-visibility: hidden; }
.cover-face { transform: rotateY(180deg); }
.inside-face { transform: rotateY(0deg); }

/* 텍스트 스타일 */
.initial-menu-title { font-family: 'RIDIBatang', serif; font-size: 60px; font-weight: 500; color: #4F4F4F; writing-mode: vertical-rl; text-orientation: upright; letter-spacing: 1em; margin-right: 0; }

.final-content {
    width: auto;
    font-family: 'RIDIBatang', serif; color: #4F4F4F;
    text-align: center;
    display: flex; flex-direction: column; align-items: center; 
}

/* 헤더 영역 */
.poem-header {
    opacity: 0; transition: opacity 1.0s ease-out;
    /* width: 100%;  */

    width: 540px !important;

    display: flex; flex-direction: column; align-items: center; position: relative;
    
    /* [수정 1] 작가와 본문 사이 간격 대폭 증가 */
    margin-bottom: 100px; 
}
.poem-header.fade-in { opacity: 1; }

.poem-title-box { border: none; padding: 10px 0; margin-bottom: 20px; }
.poem-title { font-size: 36px; font-weight: bold; }

.poem-author {
    font-size: 26px;
    align-self: flex-end; 
    margin-right: 0; 
}

/* 본문 컨테이너 */
.poem-body-container {
    min-height: 400px;
    display: flex; flex-direction: column;
    align-items: center;
    gap: 10px; /* 줄과 줄 사이, 줄과 선 사이 간격 */
    opacity: 0; transition: opacity 2.0s ease-out;
}
.poem-body-container.fade-in { opacity: 1; }

/* [신규] 상단/하단 가로선 */
.horizontal-line {
    height: 2px; /* 선 두께 */
    background-color: #FF6A6A; /* 붉은색 */
    /* 너비는 JS에서 제어 */
}

/* 개별 줄(Row) 스타일 */
.poem-row {
    display: flex; /* Grid 대신 Flex 사용으로 높이 이슈 해결 */
    border: 1px solid #FF6A6A; 
    background-color: transparent;
    
    /* [수정 2] 세로줄 삐져나옴 방지를 위한 핵심 설정 */
    overflow: hidden; 
}

/* 모드 1: 기본 (11자) */
.poem-row.mode-standard {
    width: 484px;
    height: 46px; 
}
/* 모드 2: 긴 글 (15자) */
.poem-row.mode-dense {
    width: 540px; 
    height: 38px;
}

/* 셀 스타일 */
.cell {
    /* Flex로 셀 너비 균등 분배 */
    flex: 1; 
    height: 100%; /* 부모 높이 꽉 채움 */
    
    border-right: 1px solid #FF6A6A;
    display: flex; justify-content: center; align-items: center; 
    color: #000;
}
.cell:last-child {
    border-right: none; 
}

/* 모드별 폰트 사이즈 */
.poem-row.mode-standard .cell { font-size: 32px; }
.poem-row.mode-dense .cell { font-size: 28px; }

/* 애니메이션 */
.menu-wrapper.slide-up { animation: slideUpAction 2.0s ease-out forwards; }
@keyframes slideUpAction { from { bottom: -1200px; } to { bottom: 0; } }
.menu-wrapper.open-book .paper-b { transform: rotateY(0deg); }